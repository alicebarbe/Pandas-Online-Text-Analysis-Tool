

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chat Format &mdash; POTATo: Pandas Online Text Analysis Tool 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Config File" href="config_file.html" />
    <link rel="prev" title="Exporting Chats" href="exporting_chats.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> POTATo: Pandas Online Text Analysis Tool
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="exporting_chats.html">Exporting Chats</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Chat Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#json-exports-fb-messenger-groupme-discord">JSON exports (FB Messenger, Groupme, Discord)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#whatsapp">WhatsApp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#signal">Signal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config_file.html">Config File</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="config.html">config module</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat_cleaning.html">chat_cleaning package</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat_cleaning_aggregate.html">chat_cleaning_aggregate module</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_summary.html">text_summary module</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_summary_list_utils.html">text_summary_list_utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_utils.html">file_utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="stat_utils.html">stat_utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="string_utils.html">string_utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_aggregate_plots.html">make_aggregate_plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_bin_plots.html">make_bin_plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_heatmap_plots.html">make_heatmap_plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_word_ratio_scatterplot.html">make_word_ratio_scatterplot module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">POTATo: Pandas Online Text Analysis Tool</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Chat Format</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/chat_format.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chat-format">
<h1>Chat Format<a class="headerlink" href="#chat-format" title="Permalink to this headline">¶</a></h1>
<p>For the analysis to work, the chat data must be converted to a uniform
format. This is the hardest part to automate for everyone, since each
chat platform exports in a different raw format. Ultimately, though, the
goal is to create a table stored as a csv file with the following
format:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 16%" />
<col style="width: 13%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>date_sent</p></th>
<th class="head"><p>platform</p></th>
<th class="head"><p>sender</p></th>
<th class="head"><p>body</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2019-11-17
09:20:00.000000</p></td>
<td><p>whatsapp</p></td>
<td><p>Alice</p></td>
<td><p>Are you going to the
meeting today?</p></td>
</tr>
<tr class="row-odd"><td><p>2019-11-17
09:30:00.000000</p></td>
<td><p>whatsapp</p></td>
<td><p>Bob</p></td>
<td><p>Yes I will be</p></td>
</tr>
<tr class="row-even"><td><p>2019-11-17
09:31:00.000000</p></td>
<td><p>whatsapp</p></td>
<td><p>Alice</p></td>
<td><p>Awesome, see you then</p></td>
</tr>
</tbody>
</table>
<p>If we wanted to add further functionality by considering additional
data, like if the message contains an attachment (an image or a gif, for
example), or when the message was read, or if the message was quoting
another message, then those would need to additional columns in the data
structure. As it is, we’ve chosen to stick to these date sent, platform,
sender, and body, because this information can be obtained from all chat
platform exports.</p>
<p>The processes for how to convert an export into this format varies from
platform to platform and is described below.</p>
<div class="section" id="json-exports-fb-messenger-groupme-discord">
<h2>JSON exports (FB Messenger, Groupme, Discord)<a class="headerlink" href="#json-exports-fb-messenger-groupme-discord" title="Permalink to this headline">¶</a></h2>
<p>It’s most common for chat apps to export histories to JSON files: in
this category, we’ve written chat parsers for Facebook Messenger,
GroupMe, and Discord. The table below describes the relevant JSON tags
and some extra information.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Platform</p></th>
<th class="head"><p>date_sent</p></th>
<th class="head"><p>sender</p></th>
<th class="head"><p>body</p></th>
<th class="head"><p>note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Facebook
Messenger</p></td>
<td><p>t
imestamp_ms</p></td>
<td><p>sender_name</p></td>
<td><p>content</p></td>
<td><p>Exports
chat
histories
to folders
with JSON
files -
each
contains a
maximum of
10k
messages in
reverse
ch
ronological
order, a
folder per
chat. Names
are the
user’s
facebook
profile
name.</p></td>
</tr>
<tr class="row-odd"><td><p>GroupMe</p></td>
<td><p>created_at</p></td>
<td><p>name</p></td>
<td><p>text</p></td>
<td><p>Names are
the user’s
GroupMe
profile
name</p></td>
</tr>
<tr class="row-even"><td><p>Discord</p></td>
<td><p>timestamp</p></td>
<td><p>author</p></td>
<td><p>content</p></td>
<td><p>Names are
the user’s
Discord
handle (not
including
#XXXX)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="whatsapp">
<h2>WhatsApp<a class="headerlink" href="#whatsapp" title="Permalink to this headline">¶</a></h2>
<p>Whatsapp exports chats up to 40k messages in plaintext in the following
format:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>11/17/19, 09:20 - Alice Doe: Are you going to the meeting today?
11/17/19, 09:30 - Bob Smith: Yes I will be
11/17/19, 09:31 - Alice Doe: Awesome, see you then
</pre></div>
</div>
<p>The time is converted to the timezone of the user at time of export. The
messages are parsed along the ‘-’ and ‘:’ symbols. Note that WhatsApp
exports are accurate within a minute (contrary to other platforms, which
generally provide second to millisecond accuracy).</p>
<p>Creating the export without media attachments (recommended) will replace
messages consisting purely of an attachment with “”. This phrase is
converted to a blank space in the parser.</p>
</div>
<div class="section" id="signal">
<h2>Signal<a class="headerlink" href="#signal" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="config_file.html" class="btn btn-neutral float-right" title="Config File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exporting_chats.html" class="btn btn-neutral float-left" title="Exporting Chats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alice Barbe, Daniel Gurevich

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>